# ClarifyChoice 迭代1实施清单

**创建时间**: 2025-12-11 17:20
**目标**: MVP可公网访问（3-4天）
**交付标准**: 用户可通过 http://vultr-ip 访问并使用完整RIPER-5对话流程

---

## 第1天：代码优化（8项任务）

- [ ] 1. 备份当前backend/main.py
- [ ] 2. 删除2025就业报告部分（约713-1115行）
- [ ] 3. 删除猎聘就业洞察报告部分（约1117-1475行）
- [ ] 4. 验证系统提示词约53,500 tokens
- [ ] 5. 创建backend/.env文件，添加DEEPSEEK_API_KEY
- [ ] 6. 修改backend/main.py从.env读取API Key
- [ ] 7. 测试本地运行：python -m uvicorn main:app --reload
- [ ] 8. 测试AI响应质量：完成3轮RIPER-5对话

---

## 第2天：Vultr服务器准备（12项任务）

- [ ] 9. 登录Vultr.com创建账户（如无）
- [ ] 10. 创建服务器：Shared CPU, 1vCPU, 1GB RAM, Ubuntu 22.04
- [ ] 11. 记录服务器IP地址
- [ ] 12. SSH连接：ssh root@your-vultr-ip
- [ ] 13. 更新系统：apt update && apt upgrade -y
- [ ] 14. 安装软件：apt install -y python3.10 python3-pip python3-venv nginx git
- [ ] 15. 创建应用目录：mkdir -p /var/www/clarifychoice
- [ ] 16. 配置防火墙：ufw allow 22,80/tcp && ufw enable
- [ ] 17. 创建非root用户：useradd -m -s /bin/bash deploy
- [ ] 18. 配置sudo权限：usermod -aG sudo deploy
- [ ] 19. 生成SSH密钥对（本地）：ssh-keygen -t rsa
- [ ] 20. 上传公钥到服务器：ssh-copy-id deploy@your-vultr-ip

---

## 第3天：后端部署（8项任务）

- [ ] 21. 上传backend代码到服务器
- [ ] 22. SSH到服务器：ssh deploy@your-vultr-ip
- [ ] 23. 创建虚拟环境：cd /var/www/clarifychoice/backend && python3 -m venv .venv
- [ ] 24. 安装依赖：source .venv/bin/activate && pip install -r requirements.txt
- [ ] 25. 配置.env文件：nano .env，添加DEEPSEEK_API_KEY
- [ ] 26. 测试后端：uvicorn main:app --host 0.0.0.0 --port 8000
- [ ] 27. 验证API可访问：curl http://localhost:8000
- [ ] 28. 配置systemd服务自动启动

---

## 第4天：前端部署与验证（4项任务）

- [ ] 29. 修改frontend/.env.production：VITE_API_URL=http://your-vultr-ip:8000
- [ ] 30. 本地构建前端：npm run build
- [ ] 31. 上传dist目录到服务器
- [ ] 32. 配置Nginx静态文件服务 + API反向代理

---

## 上线检查清单

- [ ] 访问 http://your-vultr-ip，前端正常加载
- [ ] 发送消息，AI能正常回复
- [ ] 完成一次完整RIPER-5流程（RESEARCH→INNOVATE→PLAN）
- [ ] 检查服务器资源使用：free -h, df -h

---

## 执行记录

### 已完成任务
（任务完成后在此记录）

### 遇到的问题
（记录问题和解决方案）

### 下一步行动
（记录待办事项）
